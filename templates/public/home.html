{% extends "layout/base.html" %}
{% block title %}{{ t('home') }} â€“ Carlos Sibrian{% endblock %}

{# Ocultamos la navbar estÃ¡ndar en el Home (Para que se vea el cubo) #}
{% block navbar %}{% endblock %}

{% block content %}

<div id="ui-layer">
    <div class="title">2077</div>
    <div class="subtitle">SIVAR_HORIZON</div>
</div>

<div id="menu-container">
    <a href="{{ url_for('about') }}" class="menu-item">{{ t('about') }}</a>
    <a href="{{ url_for('projects_list') }}" class="menu-item">{{ t('projects') }}</a>
    <a href="{{ url_for('contact') }}" class="menu-item">{{ t('contact') }}</a>
</div>

<div style="height: 100vh; width: 100%;"></div>

<div id="featured-section" class="container-fluid py-5 position-relative" style="z-index: 10; background: linear-gradient(to bottom, transparent, #050505 15%, #050505 100%); min-height: 100vh;">
  
  <div class="container mt-5">
    <div class="text-center mb-5">
      <h2 class="text-light fw-bold display-5 text-uppercase" style="letter-spacing: 3px; text-shadow: 0 0 20px rgba(189, 75, 0, 0.5);">Featured Projects</h2>
      <p class="text-secondary">Selected works from the archive</p>
    </div>

    {% if featured %}
      <div id="projectsCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
        
        <div class="carousel-inner pb-5"> 
          {% for project in featured %}
            <div class="carousel-item {% if loop.first %}active{% endif %}">
              
              <div class="project-card-custom mx-auto">
                <div class="card-img-custom">
                  {% if project.cover_image %}
                     <img src="{{ project.cover_image }}" alt="{{ project.title }}" style="width: 100%; height: 100%; object-fit: cover; opacity: 0.8;">
                  {% else %}
                     <span>ðŸš€</span>
                  {% endif %}
                </div>
                <div class="card-content-custom">
                  <h3 class="card-title-custom">{{ project.title }}</h3>
                  <p class="card-desc-custom">{{ project.summary | truncate(120) }}</p>
                  <a href="{{ url_for('project_detail', slug=project.slug) }}" class="btn-details-custom">View Details</a>
                </div>
              </div>

            </div>
          {% endfor %}
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#projectsCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: drop-shadow(0 0 5px #000);"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#projectsCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true" style="filter: drop-shadow(0 0 5px #000);"></span>
          <span class="visually-hidden">Next</span>
        </button>

      </div>
      {% else %}
      <div class="text-center w-100 py-5 text-muted">
        <h4>No featured projects found.</h4>
      </div>
    {% endif %}

    </div>

  <footer class="text-center text-secondary mt-5 pt-5 pb-3">
    <small>Â© 2025 Carlos Sibrian</small>
  </footer>
</div>

{% endblock %}

{# Dejamos el footer vacÃ­o aquÃ­ porque ya lo incluimos manualmente arriba #}
{% block footer %}{% endblock %}